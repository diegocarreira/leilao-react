(this.webpackJsonpleilao=this.webpackJsonpleilao||[]).push([[0],{27:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},38:function(e,a,t){},40:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t(0),o=t(11),i=t.n(o),r=(t(27),t(7)),c=t(2),l=t(9),u=(t(28),t(29),t(19)),d={getDateNow:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())},dateDb2DateClient:function(e){return e?(e=e.slice(0,10).split("-"))[2]+"/"+e[1]+"/"+e[0]:null}},j=d,b=function(e){var a=e.leilao,t=e.onClickDelete,s=j.getDateNow();return Object(n.jsxs)("div",{className:"leilao-item",children:[Object(n.jsxs)("span",{className:"nome",children:[Object(n.jsxs)("i",{children:["#",a.id," -"]})," ",a.nome]}),Object(n.jsxs)("span",{className:"valor",children:["R$ ",a.valorInicial.replace(".",",")]}),Object(n.jsxs)("div",{className:"infos",children:[Object(n.jsxs)("div",{className:"group",children:[Object(n.jsxs)("span",{className:"usado",children:[Object(n.jsx)("b",{children:"Esse item \xe9:"})," ",1==a.usado?"usado":"novo"]}),Object(n.jsxs)("span",{className:"responsavel",children:[Object(n.jsx)("b",{children:"Respons\xe1vel:"})," ",a.usuarioResponsavel]})]}),Object(n.jsxs)("div",{className:"group",children:[Object(n.jsxs)("span",{className:"dt-abertura",children:[Object(n.jsx)("b",{children:"Abertura:"})," ",j.dateDb2DateClient(a.dataAbertura)?j.dateDb2DateClient(a.dataAbertura):a.dataAbertura]}),a.dataFinalizacao>=s&&Object(n.jsxs)("span",{className:"dt-finalizacao",children:[Object(n.jsx)("b",{children:"Finaliza em:"})," ",j.dateDb2DateClient(a.dataFinalizacao)?j.dateDb2DateClient(a.dataFinalizacao):a.dataFinalizacao]}),a.dataFinalizacao<s&&Object(n.jsxs)("span",{className:"dt-finalizacao",children:[Object(n.jsxs)("b",{children:[" ",Object(n.jsx)("u",{children:"Finalizado"})," em: "]})," ",j.dateDb2DateClient(a.dataFinalizacao)?j.dateDb2DateClient(a.dataFinalizacao):a.dataFinalizacao]})]})]}),Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsxs)("button",{type:"button",className:"button delete-button",onClick:t,children:[Object(n.jsx)(u.a,{}),"Remover"]}),Object(n.jsxs)(r.b,{to:"/edit/".concat(a.id),className:"button edit-button",children:[Object(n.jsx)(u.b,{}),"Editar"]})]})]})},m=(t(35),function(){return Object(n.jsxs)("header",{children:[Object(n.jsx)(r.b,{to:"/",className:"menu-button",children:"Leil\xf5es"}),Object(n.jsx)(r.b,{to:"/novo",className:"menu-button",children:"Novo leil\xe3o"}),Object(n.jsx)(r.b,{to:"/login",className:"menu-button",children:"Logout"})]})}),h=t(3),O=function(){var e=Object(s.useState)([]),a=Object(l.a)(e,2),t=a[0],o=a[1],i=Object(s.useState)(0),r=Object(l.a)(i,2),u=r[0],d=r[1],j=Object(c.f)(),O=function(){var e=localStorage.getItem("leiloes")?JSON.parse(localStorage.getItem("leiloes")):[];o(e)};return Object(s.useEffect)((function(){if((localStorage.getItem("usuarioLogado")?Number.parseInt(localStorage.getItem("usuarioLogado"),10):null)<=0){try{h.b.error("Voc\xea precisa efetuar login para acessar o sistema!")}catch(e){alert("Voc\xea precisa efetuar login para acessar o sistema!")}return j.push("/login"),!0}d(1),O()}),[]),!u||u<=0?Object(n.jsx)("div",{}):Object(n.jsxs)("div",{children:[Object(n.jsx)(m,{}),Object(n.jsxs)("div",{className:"div-container",children:[Object(n.jsx)("h1",{children:"Lista de leil\xf5es"}),Object(n.jsx)("div",{className:"lista",children:t.map((function(e){return Object(n.jsx)(b,{leilao:e,onClickDelete:function(){!function(e){if(window.confirm("Tem certeza que deseja deletar esse item ?")){var a=t;for(var n in a)a[n].id==e&&a.splice(n,1);localStorage.setItem("leiloes",JSON.stringify(a)),O()}}(e.id)}},e.id)}))})]})]})},p=(t(36),t(14)),v=t(12),g=(t(37),{nome:"",valorInicial:0,usado:0,usuarioResponsavel:"",dataAbertura:"",dataFinalizacao:""}),f=function(e){var a=e.id,t=Object(s.useState)(g),o=Object(l.a)(t,2),i=o[0],r=o[1],u=Object(s.useState)([]),d=Object(l.a)(u,2),j=d[0],b=d[1],m=Object(c.f)();function O(e){var a=e.target,t=a.name,n=a.value;r(Object(v.a)(Object(v.a)({},i),{},Object(p.a)({},t,n)))}return Object(s.useEffect)((function(){var e=localStorage.getItem("usuariosCadastrados")?JSON.parse(localStorage.getItem("usuariosCadastrados")):[],t=[];for(var n in e)1==e[n].status&&t.push(e[n]);if(b(t),a){var s=localStorage.getItem("leiloes")?JSON.parse(localStorage.getItem("leiloes")):null;if(s)for(var o in s)s[o].id==a&&r({nome:s[o].nome,valorInicial:s[o].valorInicial,usado:s[o].usado,usuarioResponsavel:s[o].usuarioResponsavel,dataAbertura:s[o].dataAbertura,dataFinalizacao:s[o].dataFinalizacao})}}),[]),Object(n.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!i.nome){try{h.b.warning("Preencha o campo Nome")}catch(o){alert("Preencha o campo Nome")}return!0}if(!i.valorInicial||i.valorInicial<=0){try{h.b.warning("Preencha o campo Valor Inicial")}catch(o){alert("Preencha o campo Valor Inicial")}return!0}if(0!=i.usado&&1!=i.usado){try{h.b.warning("Preencha o campo Usado")}catch(o){alert("Preencha o campo Usado")}return!0}if(!i.usuarioResponsavel){try{h.b.warning("Preencha o campo Respons\xe1vel")}catch(o){alert("Preencha o campo Respons\xe1vel")}return!0}if(!i.dataAbertura){try{h.b.warning("Preencha o campo Data de abertura")}catch(o){alert("Preencha o campo Data de abertura")}return!0}if(!i.dataFinalizacao){try{h.b.warning("Preencha o campo Data de Finaliza\xe7\xe3o")}catch(o){alert("Preencha o campo Data de Finaliza\xe7\xe3o")}return!0}var t=localStorage.getItem("leiloes")?JSON.parse(localStorage.getItem("leiloes")):[];if(a){for(var n in t)if(t[n].id==a){var s=i;s.id=a,t[n]=s}}else t.push(Object(v.a)(Object(v.a)({},i),{},{id:Date.now()}));localStorage.setItem("leiloes",JSON.stringify(t)),h.b.success("Salvo!"),m.push("/")},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"nome",children:"Nome"}),Object(n.jsx)("input",{type:"text",name:"nome",id:"nome",onChange:O,value:i.nome})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"valorInicial",children:"Valor Inicial"}),Object(n.jsx)("input",{type:"number",name:"valorInicial",id:"valorInicial",onChange:O,value:i.valorInicial})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"usado",children:"Esse item \xe9 usado ?"}),Object(n.jsxs)("select",{className:"",name:"usado",id:"usado",onChange:O,value:i.usado,children:[Object(n.jsx)("option",{value:"1",children:"Sim"}),Object(n.jsx)("option",{value:"0",children:"N\xe3o"})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"usuarioResponsavel",children:"Usuario Responsavel"}),Object(n.jsxs)("select",{className:"",name:"usuarioResponsavel",id:"usuarioResponsavel",onChange:O,value:i.usuarioResponsavel,children:[Object(n.jsx)("option",{value:"",children:"Selecione..."}),j.map((function(e){return Object(n.jsx)("option",{value:e.login,children:e.login},e.id)}))]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"dataAbertura",children:"Data de Abertura"}),Object(n.jsx)("input",{type:"date",name:"dataAbertura",id:"dataAbertura",onChange:O,value:i.dataAbertura})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"dataFinalizacao",children:"Data de Finaliza\xe7\xe3o"}),Object(n.jsx)("input",{type:"date",name:"dataFinalizacao",id:"dataFinalizacao",onChange:O,value:i.dataFinalizacao})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"submit",name:"salvar",id:"salvar",value:"Salvar"})})]})},x=function(){var e=Object(c.g)().id,a=Object(s.useState)(0),t=Object(l.a)(a,2),o=t[0],i=t[1],r=Object(c.f)();return Object(s.useEffect)((function(){if((localStorage.getItem("usuarioLogado")?Number.parseInt(localStorage.getItem("usuarioLogado"),10):null)<=0){try{h.b.error("Voc\xea precisa efetuar login para acessar o sistema!")}catch(e){alert("Voc\xea precisa efetuar login para acessar o sistema!")}return r.push("/login"),!0}i(1)}),[]),!o||o<=0?Object(n.jsx)("div",{}):Object(n.jsxs)("div",{children:[Object(n.jsx)(m,{}),Object(n.jsxs)("div",{className:"div-container",children:[Object(n.jsx)("h1",{children:"Novo Leil\xe3o"}),Object(n.jsx)("div",{className:"formulario",children:Object(n.jsx)(f,{id:e?Number.parseInt(e,10):null})})]})]})},N=(t(38),{login:"",senha:""}),S=[{id:1,login:"admin",senha:"admin",status:1},{id:2,login:"desativado",senha:"desativado",status:0}];localStorage.setItem("usuariosCadastrados",JSON.stringify(S));localStorage.setItem("leiloes",JSON.stringify([{nome:"Fiat Marea 1998 bord\xf4",valorInicial:"10000",usado:1,usuarioResponsavel:"admin",dataAbertura:"2020-11-28",dataFinalizacao:"2020-12-31",id:1606659503642},{nome:"Ford Corcel 1968",valorInicial:"25000",usado:0,usuarioResponsavel:"admin",dataAbertura:"2020-11-23",dataFinalizacao:"2020-11-28",id:1606659566920}]));var I=function(){var e=Object(s.useState)(N),a=Object(l.a)(e,2),t=a[0],o=a[1],i=Object(c.f)();function r(e){var a=e.target,n=a.name,s=a.value;o(Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},n,s)))}return Object(s.useEffect)((function(){localStorage.removeItem("usuarioLogado")}),[]),Object(n.jsxs)("div",{className:"div-container",children:[Object(n.jsx)("h1",{children:"Leil\xf5es"}),Object(n.jsx)("div",{className:"formulario",children:Object(n.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!t.login){try{h.b.warning("Preencha o campo Login")}catch(s){alert("Preencha o campo Login")}return!0}if(!t.senha){try{h.b.warning("Preencha o campo Senha")}catch(s){alert("Preencha o campo Senha")}return!0}var a;for(var n in S)S[n].login==t.login&&S[n].senha==t.senha&&(a=S[n]);if(!a){try{h.b.error("Usu\xe1rio n\xe3o cadastrado ou senha incorreta")}catch(s){alert("Usu\xe1rio n\xe3o cadastrado ou senha incorreta")}return!0}if(1!=a.status){try{h.b.error("Esse usu\xe1rio est\xe1 desativado")}catch(s){alert("Esse usu\xe1rio est\xe1 desativado")}return!0}localStorage.setItem("usuarioLogado",a.id),i.push("/")},children:[Object(n.jsx)("span",{className:"subtitle",children:"Fa\xe7a seu login para acessar o sistema:"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"login",children:"Login:"}),Object(n.jsx)("input",{type:"text",name:"login",id:"login",onChange:r,value:t.login})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"senha",children:"Senha:"}),Object(n.jsx)("input",{type:"password",name:"senha",id:"senha",onChange:r,value:t.senha})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"submit",name:"entrar",id:"entrar",value:"Entrar"})})]})})]})},F=(t(39),function(){return Object(n.jsxs)(r.a,{children:[Object(n.jsx)(h.a,{}),Object(n.jsxs)(c.c,{children:[Object(n.jsx)(c.a,{path:"/login",component:I}),Object(n.jsx)(c.a,{path:"/novo",component:x}),Object(n.jsx)(c.a,{path:"/edit/:id",component:x}),Object(n.jsx)(c.a,{path:"/",component:O})]})]})});i.a.render(Object(n.jsx)(F,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.854e9f3c.chunk.js.map