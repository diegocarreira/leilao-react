[{"/home/diegocarreira/developer/react/leilao-react/src/index.js":"1","/home/diegocarreira/developer/react/leilao-react/src/pages/Leiloes/List/List.js":"2","/home/diegocarreira/developer/react/leilao-react/src/pages/Login/Login.js":"3","/home/diegocarreira/developer/react/leilao-react/src/Uteis/Uteis.js":"4"},{"size":259,"mtime":1606658774652,"results":"5","hashOfConfig":"6"},{"size":2325,"mtime":1606658154630,"results":"7","hashOfConfig":"6"},{"size":3575,"mtime":1606659645176,"results":"8","hashOfConfig":"6"},{"size":572,"mtime":1606657182197,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1xrd8gv",{"filePath":"12","messages":"13","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"14","messages":"15","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/diegocarreira/developer/react/leilao-react/src/index.js",[],"/home/diegocarreira/developer/react/leilao-react/src/pages/Leiloes/List/List.js",["19","20"],"/home/diegocarreira/developer/react/leilao-react/src/pages/Login/Login.js",["21","22","23"],"import React, {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport './Login.css';\nimport { toast } from 'react-toastify';\n\n\n\nconst initialValues = {\n  login : ''\n  ,senha : ''\n};\n\nconst usuariosCadastrados = [\n  {\n    id : 1\n    ,login : 'admin'\n    ,senha : 'admin'\n    ,status : 1\n  }\n  ,{\n    id : 2\n    ,login : 'desativado'\n    ,senha : 'desativado'\n    ,status : 0\n  }\n];\nlocalStorage.setItem('usuariosCadastrados', JSON.stringify(usuariosCadastrados));\n\n// ## Para iniciar já contendo alguns dados para listagem\nconst listagemInicial = [\n  {\n    \"nome\": \"Fiat Marea 1998 bordô\",\n    \"valorInicial\": \"10000\",\n    \"usado\": 1,\n    \"usuarioResponsavel\": \"admin\",\n    \"dataAbertura\": \"2020-11-28\",\n    \"dataFinalizacao\": \"2020-12-31\",\n    \"id\": 1606659503642\n  }\n  ,{\n    \"nome\": \"Ford Corcel 1968\",\n    \"valorInicial\": \"25000\",\n    \"usado\": 0,\n    \"usuarioResponsavel\": \"admin\",\n    \"dataAbertura\": \"2020-11-23\",\n    \"dataFinalizacao\": \"2020-11-28\",\n    \"id\": 1606659566920\n  }\n];\nlocalStorage.setItem('leiloes', JSON.stringify(listagemInicial));\n\n\nconst PagesLogin = () => {\n  const [values, setValues] = useState(initialValues);\n  const history = useHistory();\n\n  useEffect(() => {\n    // ## Logoff\n    localStorage.removeItem('usuarioLogado');\n  }, []);\n\n\n  function onchange(ev){\n    const {name , value} = ev.target;\n    setValues({...values, [name]: value});\n  }\n\n  function onsubmit(ev){\n    ev.preventDefault();\n\n    if(!values.login){\n      try {\n        toast.warning('Preencha o campo Login');\n      } catch (e) {\n        alert('Preencha o campo Login');\n      }\n      return true;\n    }\n    if(!values.senha){\n      try {\n        toast.warning('Preencha o campo Senha');\n      } catch (e) {\n        alert('Preencha o campo Senha');\n      }\n      return true;\n    }\n\n    let usuarioEncontrado;\n    for(let i in usuariosCadastrados){\n      if(\n        (usuariosCadastrados[i].login == values.login)\n        &&\n        (usuariosCadastrados[i].senha == values.senha)\n      ){\n        usuarioEncontrado = usuariosCadastrados[i];\n      }\n    }\n\n    if(usuarioEncontrado){\n      if(usuarioEncontrado.status == 1){\n        console.log('FIXME logar!');\n        localStorage.setItem('usuarioLogado', usuarioEncontrado.id);\n        history.push('/');\n      }else{\n        try {\n          toast.error('Esse usuário está desativado');\n        } catch (e) {\n          alert('Esse usuário está desativado');\n        }\n        return true;\n      }\n    }else{\n      try {\n        toast.error('Usuário não cadastrado ou senha incorreta');\n      } catch (e) {\n        alert('Usuário não cadastrado ou senha incorreta');\n      }\n      return true;\n    }\n\n  }\n\n\n  return(\n    <div className=\"div-container\">\n      <h1>Leilões</h1>\n      <div className=\"formulario\">\n        <form onSubmit={onsubmit}>\n\n          <span className=\"subtitle\">\n            Faça seu login para acessar o sistema:\n          </span>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"login\">Login:</label>\n            <input type=\"text\" name=\"login\" id=\"login\" onChange={onchange} value={values.login} />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"senha\">Senha:</label>\n            <input type=\"password\" name=\"senha\" id=\"senha\" onChange={onchange} value={values.senha} />\n          </div>\n\n          <div className=\"form-group\">\n            <input type=\"submit\" name=\"entrar\" id=\"entrar\" value=\"Entrar\" />\n          </div>\n        </form>\n      </div>\n\n    </div>\n  );\n}\n\nexport default PagesLogin;\n","/home/diegocarreira/developer/react/leilao-react/src/Uteis/Uteis.js",[],{"ruleId":"24","severity":1,"message":"25","line":26,"column":23,"nodeType":"26","messageId":"27","endLine":26,"endColumn":25},{"ruleId":"28","severity":1,"message":"29","line":56,"column":6,"nodeType":"30","endLine":56,"endColumn":8,"suggestions":"31"},{"ruleId":"24","severity":1,"message":"25","line":91,"column":39,"nodeType":"26","messageId":"27","endLine":91,"endColumn":41},{"ruleId":"24","severity":1,"message":"25","line":93,"column":39,"nodeType":"26","messageId":"27","endLine":93,"endColumn":41},{"ruleId":"24","severity":1,"message":"25","line":100,"column":35,"nodeType":"26","messageId":"27","endLine":100,"endColumn":37},"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["32"],{"desc":"33","fix":"34"},"Update the dependencies array to be: [history]",{"range":"35","text":"36"},[1684,1686],"[history]"]